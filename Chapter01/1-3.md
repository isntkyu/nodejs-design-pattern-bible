# 1-3 Node.js 에서의 JavaScript

---

브라우저에서 사용하는 Js와는 다소 다르다.

Node.js는 DOM을 가지고 있지 않으며 window, document 가 없음.
하지만 운영체제에서 기본제공하는 서비스에 접근이 가능.

---

## 1-3-1 최신 JavaScript를 실행시켜라

서드파티에서 사용되기 위한 라이브러리를 개발한다면 다양한 Node.js(LTS) 버전에서 실행될 수 있음을 고려해야한다. (pakeage.json에 engines 섹션 명시.)

---

## 1-3-2 모듈 시스템

CommonJS

- require 키워드
- WebPack, Rollup 등의 모듈 번들러와 사용과 함께 인기얻음.

오늘날엔 ESModule (import 키워드)

- 브라우저와는 기본적 구현이 다름.
- Node.js에서는 문법만 상속.
- 브라우저는 원격 모듈을 주로 다루지만 오직 로컬 파일시스템에있는 모듈만 다룸

---

## 1-3-3 운영체제 기능에 대한 모든 접근

Node.js는 브라우저 영역에서 실행되지 않기 때문에 운영체제에서 기본제공하는 서비스에 바인딩 가능.

fs 모듈로 파일에 접근, net과 dgram 모듈로 저수준의 TCP또는 UDP 소켓을 사용 가능.

http(s) 서버를 만들고 표준암호화와 OpenSSL (crypto 모듈) 을 사용하여 해시 알고리즘 사용 가능. V8의 내부에 접근 가능하여 (vm 모듈) v8의 다른 문맥 상에서 코드를 실행 시킬 수 있습니다.

child_process 모듈을 사용하여 다른 프로세스들을 실행시키거나 전역 변수(process) 를 사용하여 애플리케이션이 돌고 있는 프로세스 정보를 가져올 수 있음.
(환경 변수(process.env) 와 커맨드라인 인자(process.argv))

---

## 1-3-4 네이티브 코드 실행

Node.js 는 네이티브 코드에 바인드하는 사용자 측 모듈을 만들 수 있음.

이것은 c/cpp로 만들어지거나 새로 만들어진 컴포넌트를 사용할 수 있게함.

N-API 인터페이스의 도움으로 네이티브 모듈을 구현하는 데에 강력한 지원을 한다.

이미 존재하는 오픈 소스를 재사용 할 수 있게하고 c/cpp 레거시 재사용 가능하게 해준다.

이러한 네이티브와 연결될 수 있는 특성 때문에 IOT등에서도 인기를 얻고있고,

**웹어셈블리(WASM)**
JS 가상머신은 js 이외의 언어를 js VM 들이 이해가능한 형식으로 컴파일 할 수 있게 해주는 저수준 명령 형식.
