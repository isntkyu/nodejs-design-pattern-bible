## 메시징과 통합 패턴

### 메시지 유형

메시지는 서로 다른 소프트웨어 컴포넌트를 연결하는 수단.

- 명령 메시지

직렬화된 명령 객체.  
RPC 시스템, rest API(http) 등.

- 이벤트 메시지

웹소켓.  
시스템의 모든 노드를 동일한 페이지에 머물 수 있게 함.

- 문서 메시지

DB 쿼리 결과 전송.

---

#### 비동기 메시징, 큐 및 스트림

*데이터 스트림*, 즉 로그는 메시지가 도착할 때 해당 기록에 액세스할 수 있는 데이터구조.  
메시지가 검색되거나 처리될 때 제거되지 않음.  
하나 이상의 소비자가 스트림을 공유 가능.

브로커 대신 피어투피어를 사용하는 이유가 있다면,
- 브로커는 단일 장애 지점
- 확장시 브로커 확장없이 노드만 확장하면 됨.
- 통신 대기 시간 단축

---

### 13-2 발행/구독 패턴

옵저버패턴  
