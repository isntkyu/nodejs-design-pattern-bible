# 5-2 Async / await

다음 구문을 실행하기 전에 결과를 기다리며 차단되는 것처럼 보이는 함수를 작성할 수 있다.

전통적인 동기적 코드에 버금가는 가독성!

---

## 5-2-1 async 함수와 await 표현

await: 프라미스가 해결될 떄까지 함수의 실행을 일시 정지 하기위한 표현식
async: await 을 사용할 수 있는 특별한 유형의 함수.

await 표현에서 함수실행이 보류되고 상태 저장되며 제어가 이벤트루프로 반환된다.
기다리는 프라미스가 해결될 때 제어가 async 함수로 반환되고 프라미스 이행값이 반환된다.

await 표현은 프라미스가 아니어도 작동하긴함 (Promise.resolve 값을 기다리는 것과 비슷)

async 함수는 항상 프라미스를 반환한다.
그 이유는 반환값이 Promise.resolve()에 전달된 다음 호출자에게 반환된 것과 같기 때문.

프라미스를 간단하게 사용하기 위한 문법적 편리함이라고 생각할 수 있음.

---

## 5-2-2 async/await 에서의 에러 처리

가독성을 상당히 향상 시키지만 에러처리도 용이하다.

try, catch 블록을 정규화하여 잘 작동될 수 있다.

return delay( 프라미스 ) 를 하게 되면 catch 가 동작하지 않게됨. ( try catch의 catch)
(try 내에서 return 프라미스 하는 경우를 말함)
return await delay(프라미스) 해야함

---
